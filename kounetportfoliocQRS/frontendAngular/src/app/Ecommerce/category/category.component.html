<div class="announcement-bar">
  <div class="marquee-container">
    <div class="marquee-content">
      <span class="announcement-item">ğŸšš Free shipping on orders over $50</span>
      <span class="separator">â€¢</span>
      <span class="announcement-item">ğŸ’° 30 days money back guarantee</span>
      <span class="separator">â€¢</span>
      <span class="announcement-item">ğŸ 20% off on your first order - Use code: FIRST20</span>
      <span class="separator">â€¢</span>
      <span class="announcement-item">âš¡ Flash Sale! Up to 70% off on selected items</span>
      <!-- Tu peux dupliquer le bloc pour un dÃ©filement infini -->
      <span class="separator">â€¢</span>
      <span class="announcement-item">ğŸšš Free shipping on orders over $50</span>
      <span class="separator">â€¢</span>
      <span class="announcement-item">ğŸ’° 30 days money back guarantee</span>
      <span class="separator">â€¢</span>
      <span class="announcement-item">ğŸ 20% off on your first order - Use code: FIRST20</span>
      <span class="separator">â€¢</span>
      <span class="announcement-item">âš¡ Flash Sale! Up to 70% off on selected items</span>
    </div>
  </div>
</div>

<!-- Mobile Search Form (toggle with a button on mobile in real use) -->
<div class="mobile-search-bar" *ngIf="showMobileSearch">
  <form class="search-form" (ngSubmit)="onMobileSearch()">
    <mat-form-field appearance="outline" class="mobile-search-field">
      <input matInput placeholder="Search for products..." [(ngModel)]="mobileSearch" name="mobileSearch" />
      <button mat-icon-button matSuffix type="submit">
        <mat-icon>search</mat-icon>
      </button>
    </mat-form-field>
  </form>
</div>
<!-- Category List -->
<div class="main-layout">
  <div class="category-card">
   
<div class="category-card" *ngIf="!loading && !error">
  <h3 class="widget-title mat-headline">Categories</h3>
  <mat-accordion displayMode="flat" class="category-accordion">
    <ng-container *ngFor="let category of categories">
      <mat-expansion-panel [hideToggle]="!category.children?.length" class="category-panel">
        <mat-expansion-panel-header>
          <span class="category-title"><b>{{ category.name }}</b></span>
        </mat-expansion-panel-header>
        <ng-template matExpansionPanelContent>
          <mat-nav-list *ngIf="category.children?.length">
            <mat-list-item *ngFor="let sub of category.children" class="subcategory-item">
              <mat-icon matListIcon color="accent" class="subcategory-dot">fiber_manual_record</mat-icon>
              <span>{{ sub.name }}</span>
            </mat-list-item>
          </mat-nav-list>
        </ng-template>
      </mat-expansion-panel>
    </ng-container>
  </mat-accordion>
</div>
  </div>
  <div class="main-content">
    <!-- Loading & Error states -->
<mat-card *ngIf="loading" class="loader-card">
  <mat-progress-bar mode="indeterminate" color="accent"></mat-progress-bar>
  <div class="loader-text">Chargement des catÃ©goriesâ€¦</div>
</mat-card>
  </div>
</div>



<div *ngIf="error" class="error-text">{{ error }}</div>